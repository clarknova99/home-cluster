apiVersion: v1
kind: Secret
metadata:
    name: invidious-secrets
    namespace: media
## sops --encrypt --in-place ./kubernetes/apps/default/lldap/app/lldap.sops.yaml
## sops --decrypt ./kubernetes/apps/default/lldap/app/lldap.sops.yaml | kubectl apply -f -
stringData:
  INIT_POSTGRES_DBNAME: invidious
  INIT_POSTGRES_HOST: cloudnative-pg-cluster.database.svc.cluster.local
  INIT_POSTGRES_USER: postgres
  INIT_POSTGRES_PASS: current93
  INIT_POSTGRES_SUPER_PASS: current93
  INVIDIOUS_CONFIG: |
    database_url: postgres://postgres:${SECRET_POSTGRES_PASSWORD}@cloudnative-pg-cluster.database.svc.cluster.local:5432/invidious
    check_tables: true
    domain: invidious.bigwang.org
    external_port: 443
    https_only: true
    hmac_key: eisheQuoesoi7aM2ueK1
    admins: ["michael"]
    channel_threads: 2
    full_refresh: false
